.\"                                      Hey, EMACS: -*- nroff -*-
.\" First parameter, NAME, should be all caps
.\" Second parameter, SECTION, should be 1-8, maybe w/ subsection
.\" other parameters are allowed: see man(7), man(1)
.TH GENI-EXPIRING-CERTS 1 "April 11, 2014"
.\" Please adjust this date whenever revising the manpage.
.\"
.\" Some roff macros, for reference:
.\" .nh        disable hyphenation
.\" .hy        enable hyphenation
.\" .ad l      left justify
.\" .ad b      justify to both left and right margins
.\" .nf        disable filling
.\" .fi        enable filling
.\" .br        insert line break
.\" .sp <n>    insert n+1 empty lines
.\" for manpage-specific macros, see man(7)
.SH NAME
geni-expiring-certs \- notify users of expiring certificates
.SH SYNOPSIS
.B geni-expiring-certs
.IR --days \  30,14,7
.
.
.SH DESCRIPTION
.B geni-expiring-certs
notifies users if their certificates will be expiring on one of the
specified days listed in the
.I --days
option. Email is sent to the member if they have a certificate
expiring on that day.
.
.
.SH OPTIONS
.B geni-expiring-certs
follows the usual GNU command line syntax, with long
options starting with two dashes (`-').
A summary of options is included below.
.TP
.B \-\-days d,d,d,...
A comma-separated list of days from now on which to report certificate
expirations. The default is 30 days (--days 30).
.TP
.B \-c <conf file>, \-\-conf <conf file>
The chapi config file. Used for configured email addresses.
.TP
.B \-h, \-\-help
Show summary of options and their defaults.
.TP
.B \-\-debug
Display debugging messages.
.
.
.SH EXAMPLES
Notify users of expiring certificates 30, 14, and 7 days from now:

    geni-expiring-certs --days 30,14,7

Use an alternate config file:

    geni-expiring-certs --days 30,14,7 --conf /tmp/chapi.ini
.
.
.SH CONFIGURATION
The configuration file specified by the
.B \-c
or
.B \-\-conf
options is in INI file format. The sections and options
are the same as the
.I chapi.ini
file used for chapi.

The following sections and options are used by
.B geni-expiring-certs
:

    [chrm]
    ;  Syntax: postgresql://USER:PASSWORD@HOST/DB
    db_url=postgresql://scott:tiger@localhost/chapi

    [chapi]
    ; Admin email for errors
    portal_admin_email=admin@example.com

    ; Cc and Reply-To email address
    portal_help_email=help@example.com

    ; From email address
    ch_from_email=expire-daemon@example.com

.
.
.SH AUTHOR
geni-expiring-certs was written by Raytheon BBN Technologies.
